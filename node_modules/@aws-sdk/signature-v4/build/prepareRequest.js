"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var cloneRequest_1 = require("./cloneRequest");
var constants_1 = require("./constants");
/**
 * @internal
 */
function prepareRequest(request) {
    // Create a clone of the request object that does not clone the body
    request = cloneRequest_1.cloneRequest(request);
    for (var _i = 0, _a = Object.keys(request.headers); _i < _a.length; _i++) {
        var headerName = _a[_i];
        if (constants_1.GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {
            delete request.headers[headerName];
        }
    }
    if (!(constants_1.HOST_HEADER in request.headers)) {
        request.headers[constants_1.HOST_HEADER] = request.hostname;
    }
    return request;
}
exports.prepareRequest = prepareRequest;
//# sourceMappingURL=prepareRequest.js.map