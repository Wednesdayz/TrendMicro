"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var cloneRequest_1 = require("./cloneRequest");
/**
 * @internal
 */
function moveHeadersToQuery(request) {
    var _a = cloneRequest_1.cloneRequest(request), headers = _a.headers, _b = _a.query, query = _b === void 0 ? {} : _b;
    for (var _i = 0, _c = Object.keys(headers); _i < _c.length; _i++) {
        var name = _c[_i];
        var lname = name.toLowerCase();
        if (lname.substr(0, 6) === 'x-amz-') {
            query[name] = headers[name];
            delete headers[name];
        }
    }
    return tslib_1.__assign({}, request, { headers: headers,
        query: query });
}
exports.moveHeadersToQuery = moveHeadersToQuery;
//# sourceMappingURL=moveHeadersToQuery.js.map